"use strict";function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();normalCompletion=step.done;return step},e:function e(_e2){didErr=true;err=_e2},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}(function(){"use strict";function contactForm(){var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},_ref$formId=_ref.formId,formId=_ref$formId===void 0?"js-contactForm":_ref$formId,_ref$formAction=_ref.formAction,formAction=_ref$formAction===void 0?"":_ref$formAction,_ref$formMethod=_ref.formMethod,formMethod=_ref$formMethod===void 0?"POST":_ref$formMethod,_ref$inputNameId=_ref.inputNameId,inputNameId=_ref$inputNameId===void 0?"js-contact-name":_ref$inputNameId,_ref$submitId=_ref.submitId,submitId=_ref$submitId===void 0?"js-submit":_ref$submitId,_ref$statusId=_ref.statusId,statusId=_ref$statusId===void 0?"js-statusMessage":_ref$statusId,_ref$alertClass=_ref.alertClass,alertClass=_ref$alertClass===void 0?"alert":_ref$alertClass,_ref$successClass=_ref.successClass,successClass=_ref$successClass===void 0?"alert-success":_ref$successClass,_ref$errorClass=_ref.errorClass,errorClass=_ref$errorClass===void 0?"alert-danger":_ref$errorClass,_ref$hiddenClass=_ref.hiddenClass,hiddenClass=_ref$hiddenClass===void 0?"is-hidden":_ref$hiddenClass,_ref$spinnerId=_ref.spinnerId,spinnerId=_ref$spinnerId===void 0?"js-load":_ref$spinnerId,_ref$grecaptchaKey=_ref.grecaptchaKey,grecaptchaKey=_ref$grecaptchaKey===void 0?"":_ref$grecaptchaKey,_ref$grecaptchaLocati=_ref.grecaptchaLocation,grecaptchaLocation=_ref$grecaptchaLocati===void 0?"bottomright":_ref$grecaptchaLocati;function id(elem){return document.getElementById(elem)}document.getElementById(inputNameId).addEventListener("focus",loadScriptsOnFocus,false);function loadScriptsOnFocus(){var head=document.getElementsByTagName("head")[0];var script=document.createElement("script");script.type="text/javascript";script.src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit";head.appendChild(script);document.getElementById(inputNameId).removeEventListener("focus",loadScriptsOnFocus)}window.onloadCallback=function(){grecaptcha.render(submitId,{"sitekey":grecaptchaKey,"badge":grecaptchaLocation,"callback":onSubmit});document.getElementById(submitId).disabled=false};window.onSubmit=function(){var form=id(formId);if(!form.checkValidity()){form.classList.add("was-validated");grecaptcha.reset()}else{id(submitId).classList.add(hiddenClass);id(spinnerId).classList.remove(hiddenClass);submitForm()}};function msg(status){var alertType=errorClass;var statusMsg="Sorry the form is not available at the moment, please try again later.";if(status===true){alertType=successClass;statusMsg="Thank you for submitting your enquiry, we will be in touch with you soon.";id(formId).classList.add(hiddenClass)}id(spinnerId).classList.add(hiddenClass);id(statusId).innerHTML=statusMsg;id(statusId).classList.add(alertClass);id(statusId).classList.add(alertType);id(statusId).classList.remove(hiddenClass)}function safelyParseJSON(json){var parsed;try{parsed=JSON.parse(json);console.log(parsed)}catch(e){msg(false)}return parsed}function submitForm(){var form=id(formId);var formData=new FormData(form);var parameters=[];var _iterator=_createForOfIteratorHelper(formData.entries()),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var pair=_step.value;parameters.push(encodeURIComponent(pair[0])+"="+encodeURIComponent(pair[1]))}}catch(err){_iterator.e(err)}finally{_iterator.f()}var response;var xhr=new XMLHttpRequest;xhr.open(formMethod,formAction);xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded");xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<400){response=safelyParseJSON(this.responseText);if(response.success===true){msg(true)}else{msg(false)}}else{msg(false)}}};xhr.send(parameters.join("&"))};}contactForm({formAction:"http://127.0.0.1/mail.powerfulwebdesign.com.au/local.php",grecaptchaKey:"6LcTOs4aAAAAAN15ll0mreJjk457f7zvNmLOsfZS",grecaptchaLocation:"bottomright"})})();
